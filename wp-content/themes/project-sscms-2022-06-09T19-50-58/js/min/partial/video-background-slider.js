const h1=document.querySelector(".video-background-slider__header"),emailCapture=document.querySelector(".video-background-slider__cta .email-capture__input"),autoplay=document.querySelector(".video-background-slider__autoplay"),pause=document.querySelector(".video-background-slider__pause"),play=document.querySelector(".video-background-slider__play"),mediaQuery=window.matchMedia("(prefers-reduced-motion: reduce)"),multipleSlides=1<document.querySelectorAll(".video-background-slider__slide").length;let reduceMotion=mediaQuery.matches,pausedFlag=!1,lowPower=!1,isVisible=!0;function videoBackgroundSlider(r){const i=r(".video-background-slider"),o=r(".video-background-slider__slider"),a=o.attr("data-images-only");var u=o.attr("data-feature");const v=window.location.href,p=r("body").attr("data-title");let t=new Array(r(".video-background-slider__slide").length).fill(!1),l=!reduceMotion&&!a&&!lowPower;const e={infinite:!0,fade:!0,dots:!0,arrows:!0,speed:500,autoplaySpeed:6500,slidesToShow:1,autoplay:!0,pauseOnHover:!1,pauseOnFocus:!1,pauseOnDotsHover:!1,prevArrow:r(".video-background-slider__arrow--prev"),nextArrow:r(".video-background-slider__arrow--next"),dotsClass:"video-background-slider__pagination"};const k=new IntersectionObserver(e=>{isVisible=e[0].isIntersecting;e=r(".video-background-slider__slide.slick-active").data("slick-index");C(e)},{threshold:.75});function n(){l=!reduceMotion&&!a&&!lowPower}function c(e){var i=e.attr("data-video-desktop"),o=e.attr("data-video-mobile"),o=isMobile()?o:i;e.attr("src",o).css("display","block").one("play",()=>{s("pause"),pausedFlag=!1})}function y(e){e.css("display","none")}function g(){const e=document.querySelector(".video-background-slider__pagination .slick-active button");e.style.animationPlayState="paused"}function d(){const e=document.querySelector(".video-background-slider__pagination .slick-active button"),i=document.querySelector('.video-background-slider__pagination .slick-active button[style="animation-play-state: paused;"]');e&&(e.style.animationPlayState="running"),i&&(i.style.animationPlayState="running")}function s(e){pause&&(play.style.display="play"===e?"block":"none",pause.style.display="pause"===e?"block":"none")}function _(){w(document.querySelector(".video-background-slider__slide.slick-active video"),document.querySelector(".video-background-slider__slide.slick-active picture"))}function b(){if(pausedFlag=!0,l){const e=document.querySelector(".video-background-slider__slide.slick-active video");e.pause(),s("play")}g(),o.slick("slickPause")}function m(e,i){e.style.display="none",i.style.display="block"}function f(){pausedFlag=!1,d(),o.slick("slickPlay")}function w(i,o){if(!l)return a||m(i,o),void f();{const t=r(i);""==t.attr("src")&&c(t)}let e=i.play();void 0!==e&&e.then(()=>{if(lowPower=!1,n(),!pausedFlag&&l){g();const e=r(".video-background-slider__pagination .slick-active");e.removeClass("slick-active"),setTimeout(()=>{e.addClass("slick-active"),d()},50)}l?s("pause"):s(),f()}).catch(e=>{"NotAllowedError"===e.name&&(lowPower=!0,n(),h(),m(i,o),s(),f())})}function S(){const e=r(".video-background-slider__pagination .slick-active button");e.one("animationend",function(){o.slick("slickNext")})}function h(){!l&&emailCapture&&(emailCapture.addEventListener("focus",b),emailCapture.addEventListener("blur",_))}k.observe(o[0]),"scroll-arrow"==u&&(e.dots=!1,e.arrows=!1,e.autoplaySpeed=4e3),o.on("init",function(e){const i=r(this).find(".video-background-slider__slide.slick-active video"),o=r(this).find(".video-background-slider__slide.slick-active picture");i.one("play",function(){l&&(c(i),y(o))}),S(),setTimeout(()=>C(0),250)}),o.on("beforeChange",function(e,i,o,t){const a=r(".video-background-slider__slide[data-slick-index="+t+"]"),n=a.find("video"),d=a.find("picture");var t=a.attr("data-header");t=t,h1.innerHTML=t,n.one("play",function(){y(d)}),l&&(c(n),n[0].pause(),n[0].currentTime=0),pausedFlag||w(n[0],d[0])}),o.on("afterChange",function(e,i,o){(pausedFlag?g:d)(),S(),C(o)}),o.slick(e),h(),autoplay&&(pause.addEventListener("click",b),play.addEventListener("click",_));function q(e){reduceMotion=e.matches,n();var e=document.querySelector(".video-background-slider__slide.slick-active video"),i=document.querySelector(".video-background-slider__slide.slick-active picture"),o=r(e);l?c(o):(s(),pausedFlag=!1,d()),w(e,i)}mediaQuery.addEventListener?mediaQuery.addEventListener("change",q):mediaQuery.addListener(q),q(mediaQuery);const C=function(e){var i;isVisible&&!t[e]&&(i=h1.textContent,i={location:v,section:p+" Slider",title:i,slide:"slide"+(e+1)},t[e]=P("Slider Slide Viewed",i),t.every(e=>e)&&k.unobserve(o[0]))},P=function(e,i={}){return void 0!==analytics.Integrations&&(segment("track",e,i),!0)};i.on("click",function(i){const e=r(i.target);i=0<e.closest(".video-background-slider__arrow--prev").length?"backward":0<e.closest(".video-background-slider__arrow--next").length?"forward":0<e.closest(".video-background-slider__pagination").length&&"slide"+parseInt(e.text());if(i){let e;switch(i){case"backward":case"forward":e="Slider Arrow Clicked";break;default:e="Slider Bar Clicked"}i={location:v,btn_name:i};P(e,i)}})}jQuery(document).ready(function(e){multipleSlides&&videoBackgroundSlider(e)});